<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorator="template">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<head>
    <meta charset="utf-8">
    <title>Projects' List</title>
    <!-- Include your CSS and JavaScript here using Thymeleaf's th:href and th:src -->
    <link th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <script th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/4.3.1/js/bootstrap.min.js}"></script>
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
<!-- CONTENT --> <div class="container border mt-3 px-4 py-3">
    <br>
    <h2>Projects' List</h2>

    <br>

    <section id="content">
        <div class="dashboard">
            <div class="top">
                <div class="dash-content">
                    <div class="container">
                        <div class="card-header font-weight-bold text-primary">
                            <a th:href="@{showCreateProject}" class="button btn btn-outline-primary float-end">

                                <i class="bi bi-plus-circle-fill">Add Project</i>
                            </a>

                        </div>
                        <table class="table table-striped">
                            <thead class="thead-custom">
                            <tr>
                                <th>#</th>
                                <th>Project Title</th>
                                <th>Date de creation</th>
                                <th class="text-right">Actions</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tr th:each="s:${projects.content}">
                                <td th:text="${s.id}"></td>
                                <td th:text="${s.name}"></td>
                                <td th:text="${#dates.format(s.date, 'yyyy-MM-dd')}"></td>





                                <td>
                                    <a class="btn btn-danger" onclick="return confirm('Are you sure ?')"
                                       th:href="@{supprimerProject(id=${s.id}, page=${currentPage}, size=${size})}">
                                        <i class="bi bi-x-lg">Delete Project</i>
                                    </a>
                                </td>
                                <td>
                                    <a class="btn btn-secondary" onclick="return confirm('Are you sure ?')"
                                       th:href="@{modifierProject(id=${s.id}, page=${currentPage}, size=${size})}">
                                        <i class="bi bi-pen">Edit Project</i>
                                    </a>
                                </td>
                            </tr>
                        </table>
                        <ul class="nav nav-pills">
                            <li th:each="page,status:${pages}">
                                <a th:class="${status.index==currentPage?'btn btn-primary':'btn'}"
                                   th:href="@{listeProjects(page=${status.index}, size=${size})}"
                                   th:text="${status.index}"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
</body>
</html>
